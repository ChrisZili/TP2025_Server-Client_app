{% extends "layout.html" %}

{% block stylesheet %}
  {{ super() }}
  <link rel="preload" href="{{ url_for('static', filename='css/patient_details.css') }}" as="style">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/patient_details.css') }}">
{% endblock %}

{% block title %}
eVýsledky - Detaily Pacienta
{% endblock %}

{% block header %}
Detaily Pacienta
{% endblock %}

{% block content %}
<div class="patient-container hidden-js">
  <form id="patient-details-form">
    <div class="form-columns">
      <!-- Ľavý stĺpec - Informácie o pacientovi -->
      <div class="form-column">
        <div class="form-group">
          <label for="patient-id">Id</label>
          <input type="text" id="patient-id" name="patient_id" readonly>
        </div>
        <div class="form-group">
          <label for="first_name">Meno</label>
          <input type="text" id="first_name" name="first_name" required>
        </div>
        <div class="form-group">
          <label for="last_name">Priezvisko</label>
          <input type="text" id="last_name" name="last_name" required>
        </div>
        <div class="form-group">
          <label for="birth_number">Rodné číslo</label>
          <input type="text" id="birth_number" name="birth_number">
        </div>
        <div class="form-group">
          <label for="birth_date">Dátum narodenia</label>
          <input type="date" id="birth_date" name="birth_date">
        </div>
        <div class="form-group">
          <label for="created_at">Čas vytvorenia</label>
          <input type="text" id="created_at" name="created_at" readonly>
        </div>
        <div class="form-group">
          <label for="phone_number">Telefónne číslo</label>
          <input type="tel" id="phone_number" name="phone_number" pattern="\d+" required>
        </div>
        <div class="form-group">
          <label for="gender">Pohlavie</label>
          <select id="gender" name="gender" required>
            <option value="">Vyberte pohlavie</option>
            <option value="Muž">Muž</option>
            <option value="Žena">Žena</option>
            <option value="Iné">Iné</option>
          </select>
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" name="email" required>
        </div>
        <div class="form-group">
          <label for="password">Nové Heslo</label>
          <div class="input-wrapper password-wrapper">
            <input type="password" id="password" name="password" autocomplete="new-password" required>
            <button type="button" class="toggle-pw" id="toggle-password" aria-label="Zobraziť alebo skryť heslo">
              <i class="fas fa-eye-slash" aria-hidden="true"></i>
            </button>
          </div>
        </div>
      </div>

      <!-- Pravý stĺpec - Informácie o lekárovi a nemocnici -->
      <div class="form-column">
        <div class="form-group">
          <label for="doctor_name">Lekár</label>
          <input type="text" id="doctor_name" name="doctor_name" readonly>
        </div>
        <div class="form-group">
          <label for="doctor_id">ID lekára</label>
          <input type="text" id="doctor_id" name="doctor_id">
        </div>
        <div class="form-group">
          <label for="hospital_name">Nemocnica</label>
          <input type="text" id="hospital_name" name="hospital_name" readonly>
        </div>
      </div>
    </div>
  </form>

  <!-- Replace the single save button with a button row for consistency -->
  <div class="button-row">
    <button id="back-patient-btn" class="save-btn" type="button">
      <i class="fas fa-arrow-left"></i> Späť
    </button>
    <button id="save-patient-btn" class="save-btn">Uložiť zmeny</button>
  </div>
</div>

<!-- Potvrdzovacie okno -->
<div id="confirmation-modal">
  <div class="modal-content">
    <p>Si si istý, že chceš uložiť zmeny?</p>
    <div class="modal-buttons">
      <button class="confirm" id="confirm-save-btn">Áno, uložiť</button>
      <button class="cancel" id="cancel-save-btn">Zrušiť</button>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
  {{ super() }}
  <script src="{{ url_for('static', filename='js/patient_details.js') }}" defer></script>
{% endblock %}